define(['text!templates/emailsignup.html'],function(template){Vue.component('emailsignup',{template:template,props:["promo-text","label"],data:function(){return{emailAddress:'',subscribed:false,anon:bwb.store.state.anon,defaultLabel:"Get our deals in your inbox",};},computed:{labelText:function(){if(this.label)
return this.label;return this.defaultLabel;}},methods:{signup:function(){if(this.emailAddress!=''){this.subscribed=true;var jsonData=JSON.stringify({emailAddr:this.emailAddress});this.emailAddress='';$.ajax({type:'POST',contentType:'application/json',url:'/EmailList/Signup',datatype:'json',traditional:true,data:jsonData}).done(function(d){this.data.subscribed=true;});}}},mounted:function(){$("#email-signup-container").mouseenter(function(){$(".email-signup-header").animateCss('rubberBand');});}});});