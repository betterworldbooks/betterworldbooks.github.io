define(['text!templates/readerReview.html'],function(template){Vue.component('readerreview',{template:template,props:["i","j"],data:function(){return{sharedState:bwb.store.state,rseen:true,lseen:true,rightUser:"",rightDate:"",rightStars:0,rightText:"",rightHiddenText:"",leftUser:"",leftDate:"",leftStars:0,leftText:"",leftHiddenText:"",lstarline:"",rstarline:"",rightShow:"",leftShow:"",lBtn:true,rBtn:true}},methods:{makestars:function(stars){var starline="<h4 class=\"rating\">";for(var r=1;r<=5;r++){if(stars>=r){starline=starline+"<span class=\"glyphicon glyphicon-star star color-complement-2\"></span>";}else{starline=starline+"<span class=\"glyphicon glyphicon-star-empty star color-complement-2\"></span>";}}
starline=starline+"</h4>"
return starline;},moreRightText:function(){this.rightShow=true;this.rBtn=false;},moreLeftText:function(){this.leftShow=true;this.lBtn=false;}},mounted:function(){var months=['January','February','March','April','May','June','July','August','September','October','November','December'];try{var date=new Date(this.sharedState.readerreviews[this.i].DateEdited);var fDate=months[date.getMonth()]+" "+date.getDate()+", "+date.getFullYear();this.leftUser=this.sharedState.readerreviews[this.i].Username;this.leftDate=fDate;this.leftStars=this.sharedState.readerreviews[this.i].Stars;this.leftText=this.sharedState.readerreviews[this.i].ReviewText.slice(0,450);this.leftHiddenText=this.sharedState.readerreviews[this.i].ReviewText.slice(450);this.lstarline=this.makestars(this.leftStars);if(this.sharedState.readerreviews[this.i].ReviewText.length<=450){this.lBtn=false;}}catch(err){this.lBtn=false;}
try{var date=new Date(this.sharedState.readerreviews[this.j].DateEdited);var fDate=months[date.getMonth()]+" "+date.getDate()+", "+date.getFullYear();this.rightDate=fDate;this.rightUser=this.sharedState.readerreviews[this.j].Username;this.rightStars=this.sharedState.readerreviews[this.j].Stars;this.rightText=this.sharedState.readerreviews[this.j].ReviewText.slice(0,450);this.rightHiddenText=this.sharedState.readerreviews[this.j].ReviewText.slice(450);this.rstarline=this.makestars(this.rightStars);if(this.sharedState.readerreviews[this.j].ReviewText.length<=450){this.rBtn=false;}}catch(err){this.rBtn=false;}}});});